<!DOCTYPE html>
<html lang="en">
  <head>
    <title>KaFit Fitness App</title>

    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta name="description" content="" />
    <meta name="keywords" content="" />
    <meta name="author" content="" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1"
    />

    <link rel="stylesheet" href="/assets/css/bootstrap.min.css" />
    <link rel="stylesheet" href="/assets/css/font-awesome.min.css" />
    <link rel="stylesheet" href="/assets/css/aos.css" />

    <!-- MAIN CSS -->
    <link rel="stylesheet" href="/assets/css/tooplate-gymso-style.css" />
  </head>

  <style>
    .p_title {
      font-size: 25px;
      padding: 1rem;

      margin: 0 !important;
      text-align: center;
    }

    .p_title1 {
      font-size: 15px;
      padding: 1rem;
      margin: 0 !important;
    }

    .p_header {
      font-size: 18px;
      background-color: #80808091;
      padding: 1rem;
      border-radius: 5px;
    }

    .list {
      font-size: 20px;
      font-weight: bold;
      padding-bottom: 1rem;
    }

    .icon button {
      border: none;
      background: none;
      font-size: 17px;
      font-weight: bold;
      padding-bottom: 1rem;
    }

    .icon {
      display: flex;
      flex-direction: row;
      justify-content: flex-start;
      gap: 0.5rem;
    }

    .btn_func {
      padding: 1rem;
      display: flex;
      flex-direction: row;
      justify-content: center;
      align-items: center;
      gap: 1rem;
      margin-top: 2rem;
    }

    .btn_func a {
      width: 75px;
      height: 35px;
      border-radius: 7px;
      padding-top: 0.3rem;
      text-align: center;
      font-size: 12px;
      background-color: black;
      color: white;
      border: white 1px solid;
    }

    .btn_func button {
      width: 75px;
      height: 35px;
      border-radius: 7px;
      font-size: 12px;
      background-color: black;
      color: white;
      border: white 1px solid;
    }
  </style>
  <body data-spy="scroll" data-target="#navbarNav" data-offset="50">
    <!-- MENU BAR -->
    <nav class="navbar navbar-expand-lg fixed-top">
      <div class="container">
        <a class="navbar-brand" href="/">KaFit App</a>

        <button
          class="navbar-toggler"
          type="button"
          data-toggle="collapse"
          data-target="#navbarNav"
          aria-controls="navbarNav"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ml-lg-auto">
            <li class="nav-item">
              <a href="/overview" class="nav-link smoothScroll">OVERVIEW</a>
            </li>

            <li class="nav-item">
              <a href="/PFT" class="nav-link smoothScroll">PFT</a>
            </li>
            <li class="nav-item">
              <a href="/Profile" class="nav-link smoothScroll">PROFILE</a>
            </li>
            <li class="nav-item">
              <a href="/Resources" class="nav-link smoothScroll">RESOURCES</a>
            </li>
            <li class="nav-item">
              <a href="/About" class="nav-link smoothScroll">ABOUT</a>
            </li>
            <li class="nav-item">
              <a href="/logout" class="nav-link smoothScroll">LOGOUT</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <!-- ABOUT -->
    <section class="about section centerdata" id="about">
      <div class="container">
        <div class="row">
          <div class="mt-lg-5 mb-lg-0 mb-4 col-lg-5 col-md-10 mx-auto col-12">
            <h1 class="p_title">CARDIOVASCULAR ENDURANCE</h1>
            <p style="text-align: justify">
              is the ability of the heart, lungs, and blood vessels to deliver
              oxygen to working muscles and tissues, as well as the ability of
              those muscles and tissues to utilize oxygen. Endurance may also
              refer to the ability of the muscle to do repeated work without
              fatigue.
            </p>
            <div class="btn_func">
              <a href="/Cardio_Test" style="width: 40%">3-Minute Step Test</a>
              <button
                data-aos="fade-up"
                data-aos-delay="300"
                data-toggle="modal"
                data-target="#DataSccore"
                onclick="Score()"
              >
                SCORE
              </button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <div
      class="modal fade"
      id="DataSccore"
      tabindex="-1"
      role="dialog"
      aria-labelledby="membershipFormLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h2 class="modal-title" id="membershipFormLabel">SCORE</h2>

            <button
              type="button"
              class="close"
              data-dismiss="modal"
              aria-label="Close"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>

          <div class="modal-body">
            <div
              style="
                display: flex;
                flex-direction: column;
                justify-content: center;
                margin-top: 1rem;
                gap: 1rem;
              "
            >
              <div
                style="
                  display: flex;
                  flex-direction: column;
                  justify-content: center;
                "
              >
                <span style="font-size: 11px; font-style: italic"
                  >Heart rate per minute</span
                >
                <input
                  type="number"
                  name="data"
                  id="weight"
                  placeholder="Before the activity"
                />
              </div>
              <div
                style="
                  display: flex;
                  flex-direction: column;
                  justify-content: center;
                "
              >
                <span style="font-size: 11px; font-style: italic"
                  >Heart rate per minute</span
                >
                <input
                  type="number"
                  name="data"
                  id="height"
                  placeholder="After the Activity"
                />
              </div>

              <div
                style="
                  display: flex;
                  flex-direction: row;
                  justify-content: space-around;
                "
              >
                <p>Before the activity: <span id="wresult"></span></p>
                <p>After the Activity: <span id="hresult"></span></p>
              </div>
              <button
                style="
                  height: 35px;
                  border-radius: 7px;
                  font-size: 12px;
                  background-color: black;
                  color: white;
                  border: white 1px solid;
                "
                onclick="Save()"
              >
                SAVE
              </button>
            </div>
          </div>

          <div class="modal-footer"></div>
        </div>
      </div>
    </div>

    <!-- SCRIPTS -->
    <script src="/assets/js/jquery.min.js"></script>
    <script src="/assets/js/bootstrap.min.js"></script>
    <script src="/assets/js/aos.js"></script>
    <script src="/assets/js/smoothscroll.js"></script>
    <script src="/assets/js/custom.js"></script>
    <script
      src="https://code.jquery.com/jquery-3.6.1.min.js"
      integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ="
      crossorigin="anonymous"
    ></script>
    <script
      type="text/javascript"
      src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"
    ></script>
    <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.4/moment.min.js"></script>

    <script>
      $(document).ready(function () {
        View();
      });

      function View() {
        var d = new Date();
        d.setDate(d.getDate() - 1);
        var date = moment(d).format("YYYY-MM-DD");
        var value = $.cookie("id");
        $.get("/api/get_cardio", function (index) {
          var result = JSON.parse(index).item;
          $.each(result, function (_, v) {
            if (v.UserID == value) {
              $("#hresult").html(v.After);
              $("#wresult").html(v.Before);
            }
          });
        });
      }

      function Score() {
        $("#height").val("");
        $("#weight").val("");
      }

      function Save() {
        var h = $("#height").val();
        var w = $("#weight").val();

        if (h == "" || w == "") {
          Swal.fire({
            toast: true,
            position: "center",
            icon: "warning",
            title: "Please Complete Required Details",
            showConfirmButton: false,
            timer: 3000,
          });
        } else {
          $.ajax({
            url: "/api/cardio",
            data: {
              height: h,
              weight: w,
            },
            success: function (res) {
              Swal.fire({
                toast: true,
                position: "center",
                icon: "success",
                title: "Cardio Record Success",
                showConfirmButton: false,
                timer: 3000,
              }).then(function () {
                View();
              });
            },
          });
        }
      }
    </script>
  </body>
</html>
