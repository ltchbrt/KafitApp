<!DOCTYPE html>
<html lang="en">
  <head>
    <title>KaFit Fitness App</title>

    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta name="description" content="" />
    <meta name="keywords" content="" />
    <meta name="author" content="" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1"
    />

    <link rel="stylesheet" href="/assets/css/bootstrap.min.css" />
    <link rel="stylesheet" href="/assets/css/font-awesome.min.css" />
    <link rel="stylesheet" href="/assets/css/aos.css" />

    <!-- MAIN CSS -->
    <link rel="stylesheet" href="/assets/css/tooplate-gymso-style.css" />
  </head>

  <style>
    .p_title {
      font-size: 25px;
      padding: 1rem;

      margin: 0 !important;
      text-align: center;
    }

    .p_header {
      font-size: 18px;
      background-color: #80808091;
      padding: 1rem;
      border-radius: 5px;
    }

    .list {
      font-size: 20px;
      font-weight: bold;
      padding-bottom: 1rem;
    }

    .icon a {
      border: none;
      background: none;
      font-size: 17px;
      font-weight: bold;
      padding-bottom: 1rem;
    }

    .icon {
      display: flex;
      flex-direction: row;
      justify-content: flex-start;
      gap: 0.5rem;
    }

    .report {
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
    }

    .report select {
      margin-top: 1rem;
      margin-bottom: 1rem;
      width: 250px;
      text-align: center;
      border-radius: 1rem;
      padding: 0.5rem;
      background-color: black;
      color: white;
      font-size: 12px;
    }
  </style>

  <body data-spy="scroll" data-target="#navbarNav" data-offset="50">
    <!-- MENU BAR -->
    <nav class="navbar navbar-expand-lg fixed-top">
      <div class="container">
        <a class="navbar-brand" href="/">KaFit App</a>

        <button
          class="navbar-toggler"
          type="button"
          data-toggle="collapse"
          data-target="#navbarNav"
          aria-controls="navbarNav"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ml-lg-auto">
            <li class="nav-item">
              <a href="/overview" class="nav-link smoothScroll">OVERVIEW</a>
            </li>

            <li class="nav-item">
              <a href="/PFT" class="nav-link smoothScroll">PFT</a>
            </li>
            <li class="nav-item">
              <a href="/Profile" class="nav-link smoothScroll">PROFILE</a>
            </li>
            <li class="nav-item">
              <a href="/Resources" class="nav-link smoothScroll">RESOURCES</a>
            </li>
            <li class="nav-item">
              <a href="/About" class="nav-link smoothScroll">ABOUT</a>
            </li>
            <li class="nav-item">
              <a href="/logout" class="nav-link smoothScroll">LOGOUT</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <!-- ABOUT -->
    <section class="about section centerdata" id="about">
      <div class="container">
        <div class="row">
          <div
            class="mt-lg-5 mb-lg-0 mb-4 col-lg-5 col-md-10 mx-auto col-12 report"
          >
            <h1 class="p_title">PHYSICAL FITNESS TEST SCORE CARD</h1>
            <div
              style="
                width: 100%;
                display: flex;
                justify-content: space-between;
                margin-top: 1rem;
                margin-bottom: 1rem;
              "
            >
              <div style="width: 60%">
                <h3 style="font-size: 17px; text-align: left">
                  NAME:
                  <span
                    id="username"
                    style="font-size: 17px; text-align: left"
                  ></span>
                </h3>
              </div>
              <div
                style="
                  width: 40%;
                  display: flex;
                  justify-content: space-between;
                "
              >
                <h3 style="font-size: 17px; text-align: left">
                  SEX:
                  <span
                    id="sex"
                    style="font-size: 17px; text-align: left"
                  ></span>
                </h3>
                <h3 style="font-size: 17px; text-align: left">
                  AGE:
                  <span
                    id="age"
                    style="font-size: 17px; text-align: left"
                  ></span>
                </h3>
              </div>
            </div>
            <div style="width: 100%; margin-top: 1rem">
              <h1 style="font-size: 15px; margin: 0.5rem !important">
                Part 1: Health-Related Fitness Test
              </h1>
              <div>
                <h1 style="font-size: 15px; margin: 0.5rem !important">
                  A. BODY COMPOSITION: Body Mass Index (BMI)
                </h1>
                <span style="margin-bottom: 1rem"
                  >1. Body Mass Index (BMI)</span
                >
                <div
                  style="
                    display: flex;
                    justify-content: space-between;
                    padding: 1rem;
                    align-items: flex-start;
                    flex-direction: row;
                  "
                >
                  <p style="font-weight: bold">Weight: <span id="w"></span></p>
                  <p style="font-weight: bold">Height: <span id="h"></span></p>
                  <p style="font-weight: bold">BMI: <span id="b"></span></p>
                  <p style="font-weight: bold">
                    Classification: <span id="c"></span>
                  </p>
                </div>
              </div>

              <div>
                <h1 style="font-size: 15px; margin: 0.5rem !important">
                  B. Cardiovascular Endurance
                </h1>
                <span style="margin-bottom: 1rem">1. 3 Minute step Test</span>
                <div
                  style="
                    display: flex;
                    justify-content: space-between;
                    padding: 1rem;
                    align-items: flex-start;
                    flex-direction: column;
                  "
                >
                  <p style="font-weight: bold">
                    Heart Rate: <span id="rate"></span>
                  </p>
                  <p style="font-weight: bold">
                    Before the activity: <span id="before"></span>
                  </p>
                  <p style="font-weight: bold">
                    After the activity: <span id="after"></span>
                  </p>
                  <p style="font-weight: bold">
                    Classification: <span id="c"></span>
                  </p>
                </div>
              </div>

              <div>
                <h1 style="font-size: 15px; margin: 0.5rem !important">
                  C. Strength
                </h1>
                <span style="margin-bottom: 1rem">1. Push-up</span>
                <div
                  style="
                    display: flex;
                    justify-content: space-between;
                    padding: 1rem;
                    align-items: flex-start;
                    flex-direction: row;
                  "
                >
                  <p style="font-weight: bold">
                    Push-up: <span id="push"></span>
                  </p>
                </div>
                <span style="margin-bottom: 1rem">2. Basic Plank</span>
                <div
                  style="
                    display: flex;
                    justify-content: space-between;
                    padding: 1rem;
                    align-items: flex-start;
                    flex-direction: row;
                  "
                >
                  <p style="font-weight: bold">
                    Basic Plank: <span id="plank"></span>
                  </p>
                </div>
              </div>

              <div>
                <h1 style="font-size: 15px; margin: 0.5rem !important">
                  D. Flexibility
                </h1>
                <span style="margin-bottom: 1rem">1. Zipper Test</span>
                <div
                  style="
                    display: flex;
                    justify-content: space-between;
                    padding: 1rem;
                    align-items: flex-start;
                    flex-direction: row;
                  "
                >
                  <p style="font-weight: bold">Right: <span id="ri"></span></p>
                  <p style="font-weight: bold">Left: <span id="le"></span></p>
                </div>
                <span style="margin-bottom: 1rem">2. Sit and Reach</span>
                <div
                  style="
                    display: flex;
                    justify-content: space-between;
                    padding: 1rem;
                    align-items: flex-start;
                    flex-direction: row;
                  "
                >
                  <p style="font-weight: bold">
                    1st Try: <span id="st"></span>
                  </p>
                  <p style="font-weight: bold">
                    2nd Try: <span id="nd"></span>
                  </p>

                  <p style="font-weight: bold">
                    Best Score: <span id="es"></span>
                  </p>
                </div>
              </div>
            </div>

            <div style="width: 100%; margin-top: 1rem">
              <h1 style="font-size: 15px; margin: 0.5rem !important">
                Part 2: Skill-Related Fitness Test
              </h1>
              <div>
                <h1 style="font-size: 15px; margin: 0.5rem !important">
                  A. Coordination
                </h1>
                <span style="margin-bottom: 1rem">1. Juggling</span>
                <div
                  style="
                    display: flex;
                    justify-content: space-between;
                    padding: 1rem;
                    align-items: flex-start;
                    flex-direction: row;
                  "
                >
                  <p style="font-weight: bold">
                    Juggling: <span id="ju"></span>
                  </p>
                </div>
              </div>

              <div>
                <h1 style="font-size: 15px; margin: 0.5rem !important">
                  B. Agility
                </h1>
                <span style="margin-bottom: 1rem">1.Hexagon Agility Test</span>
                <div
                  style="
                    display: flex;
                    justify-content: space-between;
                    padding: 1rem;
                    align-items: flex-start;
                    flex-direction: column;
                  "
                >
                  <p style="font-weight: bold">
                    Clockwise: <span id="cwise"></span>
                  </p>
                  <p style="font-weight: bold">
                    Counter Clockwise: <span id="cuwise"></span>
                  </p>
                  <p style="font-weight: bold">
                    Average: <span id="av"></span>
                  </p>
                </div>
              </div>

              <div>
                <h1 style="font-size: 15px; margin: 0.5rem !important">
                  C. Speed
                </h1>
                <span style="margin-bottom: 1rem">1. 40 Meter Sprint</span>
                <div
                  style="
                    display: flex;
                    justify-content: space-between;
                    padding: 1rem;
                    align-items: flex-start;
                    flex-direction: row;
                  "
                >
                  <p style="font-weight: bold">Speed: <span id="sp"></span></p>
                </div>
              </div>

              <div>
                <h1 style="font-size: 15px; margin: 0.5rem !important">
                  D. Power
                </h1>
                <span style="margin-bottom: 1rem">1. Standing Long Jump</span>
                <div
                  style="
                    display: flex;
                    justify-content: space-between;
                    padding: 1rem;
                    align-items: flex-start;
                    flex-direction: row;
                  "
                >
                  <p style="font-weight: bold">
                    1st Try: <span id="st1"></span>
                  </p>
                  <p style="font-weight: bold">
                    2nd Try: <span id="nd1"></span>
                  </p>
                </div>
              </div>
              <div>
                <h1 style="font-size: 15px; margin: 0.5rem !important">
                  E. Balance
                </h1>
                <span style="margin-bottom: 1rem"
                  >1. Stork Balance Stand Test</span
                >
                <div
                  style="
                    display: flex;
                    justify-content: space-between;
                    padding: 1rem;
                    align-items: flex-start;
                    flex-direction: row;
                  "
                >
                  <p style="font-weight: bold">
                    Right Foot: <span id="rif"></span>
                  </p>
                  <p style="font-weight: bold">
                    Left Foot: <span id="lef"></span>
                  </p>
                </div>
              </div>
              <div>
                <h1 style="font-size: 15px; margin: 0.5rem !important">
                  F. Reaction Time
                </h1>
                <span style="margin-bottom: 1rem">1. Stick Drop Test</span>
                <div
                  style="
                    display: flex;
                    justify-content: space-between;
                    padding: 1rem;
                    align-items: flex-start;
                    flex-direction: row;
                  "
                >
                  <p style="font-weight: bold">
                    1st Try: <span id="t1"></span>
                  </p>
                  <p style="font-weight: bold">
                    2nd Try: <span id="t2"></span>
                  </p>
                  <p style="font-weight: bold">
                    3rd Try: <span id="t3"></span>
                  </p>

                  <p style="font-weight: bold">
                    Middle Score: <span id="t4"></span>
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- SCRIPTS -->
    <script src="/assets/js/jquery.min.js"></script>
    <script src="/assets/js/bootstrap.min.js"></script>
    <script src="/assets/js/aos.js"></script>
    <script src="/assets/js/smoothscroll.js"></script>
    <script src="/assets/js/custom.js"></script>
    <script
      src="https://code.jquery.com/jquery-3.6.1.min.js"
      integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ="
      crossorigin="anonymous"
    ></script>
    <script
      type="text/javascript"
      src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"
    ></script>
    <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.4/moment.min.js"></script>

    <script>
      $(document).ready(function () {
        var value = $.cookie("id");
        $.get("/api/get_user", function (index) {
          var result = JSON.parse(index).item;
          $.each(result, function (_, v) {
            if (v.ID == value) {
              $("#username").html(v.Name);
              $("#age").html(v.Age);
              $("#sex").html(v.Sex);
            }
          });
        });

        BMI();
        Strength();
        Flex();
        Jug();
        Agility();
        Speed();
        Balance();
        Time();
      });
      function BMI() {
        var d = new Date();
        var value = $.cookie("id");

        $.get("/api/get_bmi", function (index) {
          var result = JSON.parse(index).item;
          $.each(result, function (_, v) {
            if (value == v.UserID) {
              $("#w").html(v.Weight);
              $("#h").html(v.Height);
              $("#b").html(v.Result);
              if (v.Result.toFixed(2) <= parseFloat(18.5)) {
                $("#c").html("Wasted");
              } else if (
                v.Result.toFixed(2) >= parseFloat(18.5) &&
                v.Result.toFixed(2) <= parseFloat(24.9)
              ) {
                $("#c").html("Normal");
              } else if (
                v.Result.toFixed(2) >= parseFloat(25) &&
                v.Result.toFixed(2) <= parseFloat(29.9)
              ) {
                $("#c").html("OVerweight");
              } else if (
                v.Result.toFixed(2) >= parseFloat(30) &&
                v.Result.toFixed(2) <= parseFloat(39.9)
              ) {
                $("#c").html("Obese");
              } else {
                $("#c").html("Extremely Obese");
              }
            }
          });
        });
      }

      function Strength() {
        var d = new Date();
        var value = $.cookie("id");

        $.get("/api/get_basic", function (index) {
          var result = JSON.parse(index).item;
          $.each(result, function (_, v) {
            if (value == v.UserID) {
              $("#push").html(v.Push);
              $("#plank").html(v.Basic);
            }
          });
        });
      }

      function Flex() {
        var d = new Date();
        var value = $.cookie("id");

        $.get("/api/get_flex", function (index) {
          var result = JSON.parse(index).item;
          $.each(result, function (_, v) {
            if (value == v.UserID) {
              $("#ri").html(v.Test);
              $("#le").html(v.Left);
              $("#st").html(v.Sit);
              $("#nd").html(v.Try);

              if (v.Sit > v.Try) {
                $("#es").html(v.Sit);
              } else {
                $("#es").html(v.Try);
              }
            }
          });
        });
      }

      function Jug() {
        var d = new Date();
        var value = $.cookie("id");

        $.get("/api/get_jug", function (index) {
          var result = JSON.parse(index).item;
          $.each(result, function (_, v) {
            if (value == v.UserID) {
              $("#ju").html(v.Jug);
            }
          });
        });
      }

      function Agility() {
        var d = new Date();
        var value = $.cookie("id");

        $.get("/api/get_agility", function (index) {
          var result = JSON.parse(index).item;
          $.each(result, function (_, v) {
            if (value == v.UserID) {
              $("#cwise").html(v.Test);
              $("#cuwise").html(v.Test1);

              var result = parseFloat(v.Test) + parseFloat(v.Test1) / 2;
              $("#av").html(result);
            }
          });
        });
      }

      function Speed() {
        var d = new Date();
        var value = $.cookie("id");

        $.get("/api/get_speed", function (index) {
          var result = JSON.parse(index).item;
          $.each(result, function (_, v) {
            if (value == v.UserID) {
              $("#st1").html(v.Speed);
              $("#nd1").html(v.Speed1);
            }
          });
        });
      }

      function Balance() {
        var d = new Date();
        var value = $.cookie("id");

        $.get("/api/get_balance", function (index) {
          var result = JSON.parse(index).item;
          $.each(result, function (_, v) {
            if (value == v.UserID) {
              $("#rif").html(v.Stork);
              $("#lef").html(v.Stork1);
            }
          });
        });
      }

      function Time() {
        var d = new Date();
        var value = $.cookie("id");
        const median = [];
        $.get("/api/get_time", function (index) {
          var result = JSON.parse(index).item;
          $.each(result, function (_, v) {
            if (value == v.UserID) {
              $("#t1").html(v.Drop);
              $("#t2").html(v.Drop1);
              $("#t3").html(v.Drop2);

              const median = (arr) => {
                const mid = Math.floor(arr.length / 2),
                  nums = [...arr].sort((a, b) => a - b);
                return arr.length % 2 !== 0
                  ? nums[mid]
                  : (nums[mid - 1] + nums[mid]) / 2;
              };
              var data = median([v.Drop, v.Drop1, v.Drop2]);

              $("#t4").html(data);
            }
          });
        });
      }
    </script>
  </body>
</html>
